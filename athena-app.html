<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/core-icon/core-icon.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/core-icons/core-icons.html">
<link rel="import" href="bower_components/core-iconset/core-iconset.html">
<link rel="import" href="bower_components/paper-tabs/paper-tabs.html">
<!-- core-animated pages... don't think this will work, but worth a try -->
<link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="bower_components/core-animated-pages/transitions/slide-from-right.html">
<!-- custom elements -->
<link rel="import" href="athena-menu.html">

<polymer-element name="athena-app">
  <!-- Template start -->
  <template id="root">
    <style>
      core-toolbar {
        background-color: #03A9F4;
        color: white;
      }
      [main],
      [drawer] {
        background-color: #ffffff;
      }
      .content {
        border: 1px solid black;
        border-radius: 2em;
        padding 2em;
      }
      #input {
        display: inline-block;
      }
    </style>
    <core-drawer-panel id="drawerPanel">
      <core-header-panel drawer>
        <core-toolbar class="medium-tall" layout horizontal center-center>
          <div>
            <h3>Menu</h3>
          </div>
        </core-toolbar>
        <athena-menu></athena-menu>
        <!-- <athena-menu></athena-menu> -->
      </core-header-panel>

      <core-header-panel main flex id="contentPanel">
        <core-toolbar class="medium-tall">
          <core-icon core-drawer-toggle icon="menu" alt="Menu for narrow displays">
          </core-icon>

          <div layout horizontal center-center flex>
            <h3>Peter Pan</h3>
          </div>
          <paper-icon-button id="refresh" icon="refresh" on-tap="{{refresh}}"></paper-icon-button>
          <div id="search" show?="{{showingSearch}}" on-click="{{toggleSearch}}">
            <paper-icon-button icon="search"></paper-icon-button>
            <!-- <input type="search" id="input" on-keyup="{{onKeyPress}}" class="" autocomplete="off">-->
          </div>
          <paper-icon-button id="morebutton" icon="more-vert"></paper-icon-button>

          <paper-tabs class="bottom fit" selected="0">
            <paper-tab>
              CONTENT
            </paper-tab>
            <paper-tab>
              NOTES
            </paper-tab>
            <paper-tabs>
        </core-toolbar>

        <div class="content" layout horizontal center-center fit>
          <content></content>
        </div>
        <!-- Closes content -->
      </core-header-panel>
    </core-drawer-panel>
  </template>
  <script>
    Polymer({
      showingSearch: false,

      refresh: function () {
        // realoads current location/URL
        window.location.reload();
      },

/*      toggleSearch: function(e, detail, sender) {
        if (e) { // comes first
          e.stopPropagation();
        }
        if (e.target === this.$.input) {
          return;
        }

        this.showingSearch = !this.showingSearch;
        this.$.input.focus();
      },
      onKeyPress: function(e, detail, sender) {
        if (e.keyCode == 13) { // Enter
          if (sender.value) {
            // The full value should be the one below
            // Until we get the site in permanent home
            // we'll have to go with a generic search
            // var q = 'site:polymer-project.org+' + sender.value;
            var q = sender.value;
            window.open('https://www.google.com/search?q=' + q);
          }
        }
      },
*/    });
  </script>
<script>
</polymer-element>
